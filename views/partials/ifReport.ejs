<% if (action === 'reports' || !action) { %>
    <div class="content-header">
        <form class="search-admin-form" action="/admin" method="GET">
            <input type="hidden" name="action" value="reports">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Search Reports..." name="search">
                <button class="nav-button" type="submit">Search</button>
            </div>
        </form>
    </div>

    <% if (query) { %>
        <% filteredData.forEach((category, index) => { %>
            <div class="category-container admin-container" data-index="<%= index + 1 %>">
                <div class="category-actions">
                    <button class="category-button collapse-button"></button>
                    <div>
                        <button class="category-button edit-category-button"
                            data-id="<%= category._id %>"
                            data-title="<%= category.title %>">
                            Edit
                        </button>
                        <button class="category-button delete-category-button" data-id="<%= category._id %>">Delete</button>  
                    </div>
                </div>
                <ul>
                    <li style="color: #fff; margin-bottom: 30px;">#<%= index + 1 %></li>
                    <li>title : <span style="color: #fff;"><%- highlightSubstring(category.title, query) %></span></li>
                    <li>- boards : <span><%= category.boardCount %></span> 
                        <% if (category.boards.length > 0) { %>
                            <ul class="board-list" style="display: none;"> 
                                <% category.boards.forEach( (board, index) => { %>
                                    <li><%= index + 1 %> : <%= board.title %></li>
                                <% }) %>
                            </ul>
                        <% } %>
                    </li>
                    <li>Created At : <span><%= category.createdAt %></span></li>
                    <li>Updated At : <span><%= category.updatedAt %></span></li>
                </ul>
            </div>
        <% }) %>
    <% } else { %>
        <% reports.forEach( (report, index) => { %>
            <div class="category-container admin-container" data-index="<%= index + 1 %>">
                <div class="category-actions">
                    <button class="category-button collapse-button"></button>
                    <div>
                        <button class="category-button resolve-report-button"
                            data-id="<%= report._id %>">
                            Resolve
                        </button>
                        <button class="category-button delete-report-button" data-id="<%= report._id %>">Delete</button>  
                    </div>
                </div>
                <ul>
                    <li style="color: #fff; margin-bottom: 30px;">#<%= index + 1 %></li>
                    <li>Reporter : <span style="color: #fff;"><%= report.reporter.username %></span></li>
                    <li>Reported Item : <span><%= report.reportedItem.item.title %></span></li>
                    <li>Reason : <span><%= report.reason %></span></li>
                    <li>Description : <span style="color: #ffffff">"<%= report.description %>"</span></li>
                    <li>Item Type : <span><%= report.reportedItem.itemType %></span></li>
                    <li>Reported At : <span><%= report.createdAt %></span></li>
                    <%
                        // Define the color variable based on the report status
                        let color;
                        switch (report.status) {
                            case 'Resolved':
                                color = '#92f075'; // Green color for Resolved status
                                break;
                            case 'Dismissed':
                                color = 'red'; // Red color for Dismissed status
                                break;
                            case 'Pending':
                                color = '#ae9c84'; // #ae9c84 color for Pending status
                                break;
                        }
                    %>
                    <li>Status : <span style="color: <%= color %>"><%= report.status %></span></li>
                </ul>
            </div>
        <% }) %>
    <% } %>
<% } %>